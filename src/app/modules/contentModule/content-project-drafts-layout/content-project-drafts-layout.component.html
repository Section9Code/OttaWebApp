<loadingSpinner [loading]="isLoading"></loadingSpinner>

<div class="row" *ngIf="!isLoading">

    <div class="col-xs-12 col-lg-10">
        <otta-panel [title]="'Drafts'" [showButton]="true" [buttonText]="'Create draft'" (buttonClicked)="AddDraft()">


            <div class="m-b-lg">

                <div class="input-group">
                    <input type="text" placeholder="Search issue by name..." [(ngModel)]="searchCriteria" class=" form-control">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-primary" (click)="searchDrafts()"> Search</button>
                        <button *ngIf="isFilteringSearch" type="button" class="btn btn-white" (click)="clearSearch()"> Clear</button>
                    </span>
                </div>
                <div class="m-t-md">
                    <!-- 
                        <div class="pull-right">
                            <button type="button" class="btn btn-sm btn-white"> <i class="fa fa-comments"></i> </button>
                            <button type="button" class="btn btn-sm btn-white"> <i class="fa fa-user"></i> </button>
                            <button type="button" class="btn btn-sm btn-white"> <i class="fa fa-list"></i> </button>
                            <button type="button" class="btn btn-sm btn-white"> <i class="fa fa-pencil"></i> </button>
                            <button type="button" class="btn btn-sm btn-white"> <i class="fa fa-print"></i> </button>
                            <button type="button" class="btn btn-sm btn-white"> <i class="fa fa-cogs"></i> </button>
                        </div> -->

                    <strong>Found {{drafts.length}} drafts.</strong>
                    <a *ngIf="isFilteringSearch" (click)="clearSearch()">- Clear search filter</a>
                </div>
            </div>


            <div class="table-responsive">
                <table class="table table-hover issue-tracker">
                    <thead>
                        <tr>
                            <td>Type</td>
                            <td>Item</td>
                            <td>Creator</td>
                            <td>Due</td>
                            <td>Tags</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let draft of drafts">
                            <td (click)="navigateToDraft(draft)">
                                <content-item-type-label [title]="draft.ContentTypeTitle" [colourHex]="draft.ContentTypeColourHex"></content-item-type-label>
                            </td>
                            <td class="issue-info" (click)="navigateToDraft(draft)">
                                <a>
                                    {{ draft.Title }}
                                </a>

                                <small>
                                    {{ draft.Description }}
                                </small>
                            </td>
                            <td (click)="navigateToDraft(draft)">
                                {{ draft.Creator.CreatorName }}
                            </td>
                            <td (click)="navigateToDraft(draft)">
                                {{ draft.DeadLine | date:'mediumDate' }}
                            </td>
                            <td class="text-right">
                                <button *ngFor="let tag of draft.Tags" class="btn btn-white btn-xs" (click)="searchDrafts(tag)">{{ tag }}</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>











        </otta-panel>
    </div>


    <div class="col-xs-12 col-lg-2 hidden-xs hidden-sm hidden-md">
        <h2>Keep all your ideas in one place</h2>
        <p>
            If you have content you want to create but just don't know what to do with it yet. Put it here as a draft. You can keep working
            on your idea, add notes to it, discuss it.
        </p>
        <p>
            When it is ready you can bring it into your content calendar.
        </p>
        <h4>Types</h4>
        <p>
            Give your draft ideas a specific type so you can easily see the ones you want for your blog, and the ones you want for your podcast.
        </p>
        <p>
            Or create your own custom types and use those instead.
        </p>
        <h4>Tags</h4>
        <p>
            Add tags to your drafts so you can group similar ideas, ideas related to the same theme, etc. Use them however best works
            for you.
        </p>
        <p>
            Click on a tag to see only the drafts with the same tag.
        </p>
    </div>


</div>